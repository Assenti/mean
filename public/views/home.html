<div class="container">
	<h2>Форма добавления нового поста</h2>
	<form ng-submit="vm.savePost()">
		<input class="input" type="text" placeholder="Title..." ng-model="vm.title" required >
		<input class="input" type="text" placeholder="Content..." ng-model="vm.content" required>
		<input class="input" type="text" placeholder="Author..." ng-model="vm.author" required>
		<input class="input__file" type="file" ng-file-model="vm.file" accept="image/*" required>
		<button class="btn btn__green" type="submit">Add</button>
		<button class="btn btn__grey" type="reset">Reset</button>
	</form>
</div>
<div class="container">
	<h2>Добавленные посты</h2>
	<table class="table">
		<thead class="thead">
			<tr>
				<th>Title</th>
				<th>Content</th>
				<th>Author</th>
				<th>Posted Date</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="post in vm.posts">
				<td ng-bind="post.title" ui-sref="post({id: post._id})"></td>
				<td ng-bind="post.content" ui-sref="post({id: post._id})"></td>
				<td ng-bind="post.author" ui-sref="post({id: post._id})"></td>
				<td ng-bind="post.data" ui-sref="post({id: post._id})"></td>
				<td>
					<button class="btn btn__blue" ng-click="vm.makeEditable(post)">Edit</button>
					<button class="btn btn__red" ng-click="vm.deletePost(post)">Delete</button>
					<button class="btn btn__green" ui-sref="post({id: post._id})">More</button>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<section class="modal" ng-if="vm.objectToEdit != null">
	<div class="modal__backdrop" ng-click="vm.closeModal()"></div>
	<div class="modal__window">
		<div class="modal__title">Edit Post</div>
		<div class="modal__field">
			<label for="title">Title:</label>
			<input type="text" class="input input_modal" ng-model="vm.objectToEdit.title" id="title">
		</div>
		<div class="modal__field">
			<label for="content">Content:</label>
			<input type="text" class="input input_modal" ng-model="vm.objectToEdit.content" id="content">
		</div>
		<div class="modal__field">
			<label for="author">Author:</label>
			<input type="text" class="input input_modal" ng-model="vm.objectToEdit.author" id="author">
		</div>
		<img ng-src="{{ vm.objectToEdit.link }}" class="modal__image">
		<button class="btn btn__blue" ng-click="vm.editPost()">Edit</button>
		<button class="btn btn__grey" ng-click="vm.closeModal()">Close</button>
	</div>
</section>





